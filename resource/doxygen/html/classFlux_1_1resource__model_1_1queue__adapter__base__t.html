<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Resource Flux Scheduling Infrastructure: Flux::resource_model::queue_adapter_base_t Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Resource Flux Scheduling Infrastructure
   &#160;<span id="projectnumber">0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classFlux_1_1resource__model_1_1queue__adapter__base__t.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classFlux_1_1resource__model_1_1queue__adapter__base__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Flux::resource_model::queue_adapter_base_t Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="reapi_8hpp_source.html">reapi.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a19214f708c0aa719e2b8ba9151a7ef8a"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlux_1_1resource__model_1_1queue__adapter__base__t.html#a19214f708c0aa719e2b8ba9151a7ef8a">handle_match_success</a> (int64_t jobid, const char *status, const char *R, int64_t at, double ov)=0</td></tr>
<tr class="separator:a19214f708c0aa719e2b8ba9151a7ef8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f0a03057815892080f545d7437821b3"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlux_1_1resource__model_1_1queue__adapter__base__t.html#a8f0a03057815892080f545d7437821b3">handle_match_failure</a> (int errcode)=0</td></tr>
<tr class="separator:a8f0a03057815892080f545d7437821b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043544786c98653ab3eeaf9f30383e97"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlux_1_1resource__model_1_1queue__adapter__base__t.html#a043544786c98653ab3eeaf9f30383e97">is_sched_loop_active</a> ()=0</td></tr>
<tr class="separator:a043544786c98653ab3eeaf9f30383e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4fa97fa71bfd0acef914b80d80b52d9"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlux_1_1resource__model_1_1queue__adapter__base__t.html#af4fa97fa71bfd0acef914b80d80b52d9">set_sched_loop_active</a> (bool active)=0</td></tr>
<tr class="separator:af4fa97fa71bfd0acef914b80d80b52d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Queue adapter base API class: define a set of methods a queue policy class (a subclass of this API class) must implement to be able to work with <a class="el" href="classFlux_1_1resource__model_1_1reapi__t.html">reapi_t</a> under asynchronous execution. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a8f0a03057815892080f545d7437821b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f0a03057815892080f545d7437821b3">&#9670;&nbsp;</a></span>handle_match_failure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Flux::resource_model::queue_adapter_base_t::handle_match_failure </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errcode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>When a match failed (e.g., unsatisfiable jobspec, resource unavailable, no more jobspec to process), this method is called back by <a class="el" href="classFlux_1_1resource__model_1_1reapi__t.html">reapi_t</a> with errcode returned from the resource match service. The implementor of this method is expected to dequeue the the job from the pending job queue, if appropriate, and proceed to the next pending job or return 0 if the scheduling loop must be terminated per its queuing policy (e.g., FCFS).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errno</td><td>returned from the resource match service. EBUSY: resource unavailable ENODEV: unsatisfiable jobspec ENODATA: no more jobspec to process Others: one that can raised from match_multi RPC </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when the loop must terminate; -1 on error. </dd></dl>

</div>
</div>
<a id="a19214f708c0aa719e2b8ba9151a7ef8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19214f708c0aa719e2b8ba9151a7ef8a">&#9670;&nbsp;</a></span>handle_match_success()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Flux::resource_model::queue_adapter_base_t::handle_match_success </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>jobid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>at</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ov</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>When a match succeeds, this method is called back by <a class="el" href="classFlux_1_1resource__model_1_1reapi__t.html">reapi_t</a> with the matched resource information. The implementor (e.g., queue policy class) of this method is expected to dequeue the job from its pending queue and proceed to the next state transition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jobid</td><td>Job ID of the uint64_t type. </td></tr>
    <tr><td class="paramname">status</td><td>String indicating if the match type is allocation or reservation. </td></tr>
    <tr><td class="paramname">R</td><td>Resource set: i.e., either allocated or reserved. </td></tr>
    <tr><td class="paramname">at</td><td>If allocated, 0 is returned; if reserved, actual time at which the job is reserved. </td></tr>
    <tr><td class="paramname">ov</td><td>Match performance overhead in terms of the elapse time to complete the match operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; -1 on error. </dd></dl>

</div>
</div>
<a id="a043544786c98653ab3eeaf9f30383e97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a043544786c98653ab3eeaf9f30383e97">&#9670;&nbsp;</a></span>is_sched_loop_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Flux::resource_model::queue_adapter_base_t::is_sched_loop_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if the scheduling loop is active under asynchronous execution; otherwise false. </p>

</div>
</div>
<a id="af4fa97fa71bfd0acef914b80d80b52d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4fa97fa71bfd0acef914b80d80b52d9">&#9670;&nbsp;</a></span>set_sched_loop_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Flux::resource_model::queue_adapter_base_t::set_sched_loop_active </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>active</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the state of the scheduling loop. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">active</td><td>true when the scheduling loop becomes active; false when becomes inactive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; otherwise -1 an error with errno set (Note: when the scheduling loop becomes inactive, internal queueing can occur and an error can arise):<ul>
<li>ENOENT (job is not found from some queue)</li>
<li>EEXIST (enqueue fails due to an existent entry) </li>
</ul>
</dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="reapi_8hpp_source.html">reapi.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Flux</b></li><li class="navelem"><b>resource_model</b></li><li class="navelem"><a class="el" href="classFlux_1_1resource__model_1_1queue__adapter__base__t.html">queue_adapter_base_t</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
